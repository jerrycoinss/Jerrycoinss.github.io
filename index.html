<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jerry Smart Matrix DApp</title>
<script src="https://cdn.jsdelivr.net/npm/web3@1.10.0/dist/web3.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@walletconnect/web3-provider/dist/umd/index.min.js"></script>
<style>
body { font-family: Arial, sans-serif; margin: 20px; }
button { padding: 10px 20px; margin: 5px; }
input, select { padding: 5px; margin: 5px; }
</style>
</head>
<body>
<h1>Jerry Smart Matrix</h1>
<button id="connectWallet">Connect Wallet</button><br>
<select id="levelSelect">
<option value="1">Level 1</option>
<option value="2">Level 2</option>
<option value="3">Level 3</option>
<option value="4">Level 4</option>
<option value="5">Level 5</option>
<option value="6">Level 6</option>
<option value="7">Level 7</option>
<option value="8">Level 8</option>
<option value="9">Level 9</option>
<option value="10">Level 10</option>
<option value="11">Level 11</option>
</select><br>
<input type="text" id="referrer" placeholder="Referrer Address">
<button id="buyLevel">Buy Level</button>

<script>
let web3;
let contract;
const CONTRACT_ADDRESS = "YOUR_CONTRACT_ADDRESS";
const ABI = [ /* ضع هنا ABI الكامل */ ];

document.getElementById("connectWallet").onclick = async () => {
    const provider = new WalletConnectProvider.default({
        rpc: { 56: "https://bsc-dataseed.binance.org/" }
    });
    await provider.enable();
    web3 = new Web3(provider);
    contract = new web3.eth.Contract(ABI, CONTRACT_ADDRESS);
    alert("Wallet Connected!");
};

document.getElementById("buyLevel").onclick = async () => {
    const accounts = await web3.eth.getAccounts();
    const level = document.getElementById("levelSelect").value;
    const referrer = document.getElementById("referrer").value || "0x0000000000000000000000000000000000000000";

    await contract.methods.buyLevel(level, referrer).send({ from: accounts[0] });
    alert("Level Purchased!");
};
</script>
</body>
</html>
