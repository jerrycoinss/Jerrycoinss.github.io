<!DOCTYPE html><html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jerry Smart Matrix DApp</title>
<script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.min.js"></script>
<style>
body { font-family: Arial, sans-serif; background: #121212; color: #fff; display: flex; flex-direction: column; align-items: center; padding: 20px; }
button { padding: 10px 20px; margin: 10px; cursor: pointer; background: #ffcc00; border: none; border-radius: 5px; font-weight: bold; }
input { padding: 5px; margin: 5px; border-radius: 5px; border: none; }
</style>
</head>
<body>
<h1>Jerry Smart Matrix</h1>
<button id="connectWallet">Connect Wallet</button>
<div id="walletAddress"></div>
<h2>Buy Level</h2>
<input type="number" id="levelNumber" placeholder="Level number (1-11)" min="1" max="11" />
<input type="text" id="referrer" placeholder="Referrer address" />
<button id="buyLevelBtn">Buy Level</button>
<h2>User Info</h2>
<button id="getUserInfo">Get My Info</button>
<pre id="userInfo"></pre>
<script>
let provider, signer, contract;
const contractAddress = '0xB963CA4f5d123a1622f6D6ABd80c4bef85c90D12';
const contractABI = [
  {"inputs":[{"internalType":"address","name":"_jerryToken","type":"address"},{"internalType":"address","name":"_treasury","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},
  {"inputs":[{"internalType":"uint8","name":"_level","type":"uint8"},{"internalType":"address","name":"_referrer","type":"address"}],"name":"buyLevel","outputs":[],"stateMutability":"nonpayable","type":"function"},
  {"inputs":[{"internalType":"address","name":"_user","type":"address"}],"name":"getUserLevels","outputs":[{"internalType":"bool[10]","name":"","type":"bool[10]"}],"stateMutability":"view","type":"function"},
  {"inputs":[{"internalType":"address","name":"_user","type":"address"}],"name":"getUserReferrals","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}
];document.getElementById('connectWallet').onclick = async () => { if(window.ethereum){ provider = new ethers.providers.Web3Provider(window.ethereum); await provider.send("eth_requestAccounts", []); signer = provider.getSigner(); const address = await signer.getAddress(); document.getElementById('walletAddress').innerText = Connected: ${address}; contract = new ethers.Contract(contractAddress, contractABI, signer); } else { alert('Please install Metamask!'); } };

document.getElementById('buyLevelBtn').onclick = async () => { const level = parseInt(document.getElementById('levelNumber').value); const ref = document.getElementById('referrer').value; if(!contract){ alert('Connect wallet first!'); return; } try { const tx = await contract.buyLevel(level, ref); await tx.wait(); alert('Level purchased successfully!'); } catch(e){ alert('Error: '+e.message); } };

document.getElementById('getUserInfo').onclick = async () => { if(!contract){ alert('Connect wallet first!'); return; } const address = await signer.getAddress(); const levels = await contract.getUserLevels(address); const referrals = await contract.getUserReferrals(address); document.getElementById('userInfo').innerText = Levels: ${levels}\nDirect Referrals: ${referrals}; }; </script>

</body>
</html>
